<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>BiaoNeverSurrender</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="开始一个C语言项目的准备工作本章将在Linux上实现一个C语言小项目，目的是为了初步熟悉Linux环境下的C语言开发。具体包括常见Linux命令行的运用；C程序的编辑、编译、运行；以及版本库的常见操作。实验环境可以使用自己的Linux系统，也可以使用实验楼提供的Linux虚拟机https:&#x2F;&#x2F;www.shiyanlou.com&#x2F;courses&#x2F;122。视频中使用的实验环境为VMware Playe">
<meta property="og:type" content="website">
<meta property="og:title" content="BiaoNeverSurrender">
<meta property="og:url" content="http://quectelwb.github.io/codes/menu/doc/ch01.html">
<meta property="og:site_name" content="BiaoNeverSurrender">
<meta property="og:description" content="开始一个C语言项目的准备工作本章将在Linux上实现一个C语言小项目，目的是为了初步熟悉Linux环境下的C语言开发。具体包括常见Linux命令行的运用；C程序的编辑、编译、运行；以及版本库的常见操作。实验环境可以使用自己的Linux系统，也可以使用实验楼提供的Linux虚拟机https:&#x2F;&#x2F;www.shiyanlou.com&#x2F;courses&#x2F;122。视频中使用的实验环境为VMware Playe">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-03-29T22:48:38.252Z">
<meta property="article:modified_time" content="2021-03-29T22:48:38.252Z">
<meta property="article:author" content="Biao Wang">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="BiaoNeverSurrender" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">BiaoNeverSurrender</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://QuectelWB.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="page-" class="h-entry article article-type-page" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/codes/menu/doc/ch01.html" class="article-date">
  <time class="dt-published" datetime="2021-03-29T22:48:38.252Z" itemprop="datePublished">2021-03-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="开始一个C语言项目的准备工作"><a href="#开始一个C语言项目的准备工作" class="headerlink" title="开始一个C语言项目的准备工作"></a>开始一个C语言项目的准备工作</h1><p>本章将在Linux上实现一个C语言小项目，目的是为了初步熟悉Linux环境下的C语言开发。具体包括常见Linux命令行的运用；C程序的编辑、编译、运行；以及版本库的常见操作。实验环境可以使用自己的Linux系统，也可以使用<a target="_blank" rel="noopener" href="https://www.shiyanlou.com/courses/122">实验楼提供的Linux虚拟机https://www.shiyanlou.com/courses/122</a>。视频中使用的实验环境为<a target="_blank" rel="noopener" href="https://pan.baidu.com/share/link?shareid=10348039&uk=1866287127#list/path=%2F">VMware Player和Ubuntu12.04虚拟机压缩包</a>【注意虚拟机密码为123456】（较老，不推荐使用）<br><br></p>
<h2 id="为什么选择Linux环境"><a href="#为什么选择Linux环境" class="headerlink" title="为什么选择Linux环境"></a>为什么选择Linux环境</h2><p><em><strong>了解Unix-like操作系统对于一名软件开发人员的必要性</strong></em></p>
<p>Linux是Unix-like操作系统，目前除了Windows，几乎每一个操作系统都是Unix或Unix-like操作系统。看得到的Windows仅仅占领了PC，而别的方方面面，例如服务器、嵌入式系统和手机等领域所应用的操作系统都属于Unix-like操作系统，至于其他类型的操作系统占据的市场份额很小。因此可以说，一点都不了解Unix-like操作系统的程序员很难讲是一个专业的程序员！<br><br></p>
<p><em><strong>学习Unix-like操作系统在服务器开发相关方面的帮助</strong></em></p>
<p>Unix-like操作系统具有突出的稳定性和安全性，除此之外更具优势的是，许多Unix-like例如Linux操作系统还是开源的操作系统，这意味着用户（主要针对开发者）可以轻松查看Linux内核的源代码，也可以对代码进行修改和再创作。大多数服务器操作系统都是Unix-like操作系统。</p>
<p>在未来的工作或者学习中，你写的代码可能需要运行在Unix-like操作系统上，这其实就要求程序员对Unix-like操作系统有一定的了解，而Linux又是Unix-like操作系统中最具代表性的操作系统，因此，学习Linux系统将为开发人员的职业生涯提供很大帮助。<br><br></p>
<p><em><strong>在Linux环境下做开发可以彻底掌控设计</strong></em></p>
<p>现在大部分开发者都已经很熟悉Windows下的开发环境，Windows下的IDE集成开发环境很好的隐藏了一些开发细节，但其实也体现了一些缺陷。这种IDE集成开发环境为我们自动生成代码，虽然方便易学，但却让我们很多程序员只学会了在这一种环境下做填空题，被开发环境所提供的框架给框住了。而当开发环境发生改变时可能就会感到无所适从，可能就会成为一部分程序猿的成长瓶颈。</p>
<p>不一样的是，在Linux操作系统下我们是使用命令行来进行开发的，工程文件也是自己写，对所有代码的设计和组织等都能完全自己掌控。这样当我们再使用集成开发环境的时候，我们就知道集成开发环境“悄悄地”为我们做了什么，比如：自动将文件添加到工程文件里、自动组织了源文件之间的依赖关系、帮我们自动生成了代码框架等等。当我们具体了解到这些细节后，就会很容易适应各种不同的平台、不同的框架。这样，就算没有了集成开发环境”保姆“般的辅助，也无法阻止我们快乐开发的手速～～<br><br><br><br></p>
<h2 id="Linux命令行使用简明指南"><a href="#Linux命令行使用简明指南" class="headerlink" title="Linux命令行使用简明指南"></a>Linux命令行使用简明指南</h2><p>Linux命令是对Linux系统进行管理的命令，是学习Linux所必过的关卡。下面通过编写一个C语言的hello world小程序来熟悉几个常用的Linux操作命令。</p>
<h3 id="实验过程"><a href="#实验过程" class="headerlink" title="实验过程"></a>实验过程</h3><br>

<p><em><strong>版本库创建</strong></em></p>
<p>在开始C代码的编写之前，我们需要在github或coding（使用实验楼虚拟机的话请使用github版本库）平台上创建一个版本库，比如<a target="_blank" rel="noopener" href="https://github.com/mengning/menu.git">https://github.com/mengning/menu.git</a><br><br></p>
<p><em><strong>进入实验目录并创建实验一文件夹lab1</strong></em><br><br></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">shiyanlou:~/ $ ls</span><br><span class="line">shiyanlou:~/ $ cd Code</span><br><span class="line">shiyanlou:Code/ $ git clone https://github.com/mengning/[your_git_repo].git</span><br><span class="line">shiyanlou:Code/ $ cd [your_git_repo]</span><br><span class="line">shiyanlou:cs122/ (master) $ mkdir lab1</span><br><span class="line">shiyanlou:cs122/ (master) $ cd lab1</span><br></pre></td></tr></table></figure>
<br>
以上步骤用到了几个目录操作的命令。Linux系统的文件目录结构类似一颗树，顶层是根目录`/`，往下默认目录基本都会有其特定作用，如`/etc`为配置文件保存目录，我们可以在home目录下对应的个人账户目录下放自己的文件。
    
   - mkdir： 用于创建指定名称目录
   
        常用选项：
     
     `-p` //若上层目录尚未建立，则一并建立上层目录`
     
     `-m` //建立目录的同时设置目录的权限
   
   - cd： 切换当前工作目录
   
        常用选项：
     
     `～`//home目录
     
     `.` //当前所在的目录
     
     `..`//当前目录的上层目录
     
   - ls： 显示指定工作目录下的内容
   
        常用选项：
    
     `-a` //显示所有文件及目录
    
     `-l` //列出详细信息
<br>

<p><em><strong>使用vi编辑器编辑hello.c文件</strong></em><br><br></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shiyanlou:lab1/ (master*) $ vi hello.c</span><br></pre></td></tr></table></figure>
<br>
Vim是Linux上一款功能十分强大的编辑器，在代码补全、编译及错误跳转等方便编程的功能特别丰富，在程序员中被广泛使用。Vim有3种模式：一般模式、编辑模式和命令模式。

<ul>
<li>normal模式(一般模式) 刚启动的vim就是处于normal模式的状态，这个模式下我们可以上下左右键移动光标，以下是几个常见的命令：  <code>i</code> //切换到输入模式以输入字符 <code>:</code> //切换到命令模式</li>
<li>命令模式 在normal模式下输入:切换到insert模式，在这种模式下我们可以输入命令，常用的有： <code>q</code> //退出程序  <code>w</code> //保存文件</li>
<li>insert模式(插入模式) 在normal模式下输入<code>i</code>键切换到insert模式，在这种模式下，如果权限允许就可以对文件内容进行修改。按ESC键回到normal模式。<br></li>
</ul>
<p>当然，如果对Linux下的编辑器不习惯，我们也可以用Windows下的编辑器编辑代码，然后在Linux下编译和工程管理。下面是hello.c的内容：<br><br></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;hello world!\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<br>

<p><em><strong>编译执行hello程序</strong></em></p>
<p>我们可以使用gcc编译器编译一个c文件，将c文件作为gcc的参数，用-o加上我们自定义的编译后的可执行文件名称，比如<code>gcc hello.c -o hello</code> ，最后生成的可执行文件为hello。编译完成后，使用<code>./hello</code>命令即可执行hello这个程序。<br> <br></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">shiyanlou:lab1/ (master*) $ gcc -o hello hello.c</span><br><span class="line">shiyanlou:lab1/ (master*) $ ./hello             </span><br><span class="line">hello world!</span><br><span class="line">shiyanlou:lab1/ (master*) $</span><br></pre></td></tr></table></figure>
<br>

<p><em><strong>提交代码到版本库（注意不要使用视频中要求的打包文件提交作业）</strong></em><br><br></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">shiyanlou:lab1&#x2F; (master*) $ git add hello.c</span><br><span class="line">shiyanlou:lab1&#x2F; (master*) $ git commit -m &quot;hello world&quot;</span><br><span class="line">[master 40425fe] hello world</span><br><span class="line">1 file changed, 7 insertions(+)</span><br><span class="line">create mode 100644 lab1&#x2F;hello.c</span><br><span class="line">shiyanlou:lab1&#x2F; (master*) $ git push</span><br><span class="line">......</span><br><span class="line"> 5f24b93..40425fe  master -&gt; master</span><br><span class="line">shiyanlou:lab1&#x2F; (master*) $ </span><br></pre></td></tr></table></figure>
<br>
有时我们需要将工程文件打包成压缩包作为我们的成果以附件上传（一般情况下我们不会把中间文件、可执行文件打包进去），而且网上很多资源都是以压缩包的形式共享。因此，压缩、解压命令是尤为重要的。
<br>    
    tar： 打包或解包目录
   
        常用选项(`-zcvf`)：
    
     //打包
    
     `-z` //打包同时压缩
    
     `-c` //创建新的tar文件
    
     `-v` //列出每一步处理涉及的文件的信息
    
     `-f` //指定要处理的文件名
    
     //解包
    
     `-z` //支持gzip解压文件
    
     `-x` //解包提取文件
    
     `-v` //列出每一步处理涉及的文件的信息
    
     `-f` //指定要处理的文件名
<br>

<p><em><strong>测试自己的实验成果</strong></em><br><br></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">shiyanlou:~/ $ cd Code</span><br><span class="line">shiyanlou:Code/ $ git clone https://github.com/[your_name]/[your_git_repo].git</span><br><span class="line">shiyanlou:Code/ $ cd [your_git_repo]/lab1</span><br><span class="line">shiyanlou:lab1/ (master) $ gcc -o hello hello.c </span><br><span class="line">shiyanlou:lab1/ (master*) $ ./hello</span><br><span class="line">hello world!</span><br><span class="line">shiyanlou:lab1/ (master*) $ vi hello.c</span><br></pre></td></tr></table></figure>
<br>
通过以上过程确认您提交到版本库过程的正确性，以及测试c程序的效果。到这里我们Linux环境下的c语言小项目就已经完成啦！
<br>

<h2 id="单元测试"><a href="#单元测试" class="headerlink" title="单元测试"></a>单元测试</h2><ol>
<li>列出当前目录下的所有文件和目录，需要使用哪个命令？</li>
</ol>
<ul>
<li>a) cd  </li>
<li>b) vi  </li>
<li>c) ls  </li>
<li>d) tar </li>
</ul>
<ol start="2">
<li>在vim编辑器下从一般模式进入编辑模式需要按哪个键？</li>
</ol>
<ul>
<li>a) hjkl中的任何一个都可以</li>
<li>b) i   </li>
<li>c) dd   </li>
<li>d) p </li>
</ul>
<ol start="3">
<li>编译一个c文件我们可以使用gcc，我们可以将c文件作为gcc的参数，用-o加上我们自定义的编译后的可执行文件名称，比如gcc hello.c -o hello ，最后生成的可执行文件为hello</li>
</ol>
<ul>
<li>a) ✅   </li>
<li>b) ❌  </li>
</ul>
<ol start="4">
<li>执行当前目录下的hello可执行程序，下列哪个命令是正确的？</li>
</ol>
<ul>
<li>a) hello  </li>
<li>b) ./hello </li>
<li>c) /hello </li>
<li>d) ../hello</li>
</ul>
<p>参考答案：c b a b</p>
<h2 id="实验作业要求"><a href="#实验作业要求" class="headerlink" title="实验作业要求"></a>实验作业要求</h2><p>按照本章内容完成实验报告并公开发表（公开可访问博客或实验楼的实验报告），具体要求如下： </p>
<ul>
<li>简述自己的实验的思路和具体过程；  </li>
<li>引用实验中自己添加或修改的部分关键代码；</li>
<li>至少有一张实验关键代码截图，至少有一张实验运行结果截图；</li>
<li>将自己在实验中遇到疑惑和困难，以及自己的处理方法，实验心得等写入实验报告； </li>
<li>实验报告的最后做一个简要的实验总结；</li>
</ul>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ol>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/uyhuayussd/article/details/93844916">类UNIX系统详解</a></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://quectelwb.github.io/codes/menu/doc/ch01.html" data-id="ckmw3uz83000bmm5ba7pbd8li" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
    
  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/rpi/" rel="tag">rpi</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/rpi/" style="font-size: 10px;">rpi</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/03/30/mem/min_free_kbytes/">vm.min_free_kbytes</a>
          </li>
        
          <li>
            <a href="/2021/03/30/mem/mem_cmd/">内存管理有关的命令</a>
          </li>
        
          <li>
            <a href="/2021/03/30/mem/malloc/">malloc</a>
          </li>
        
          <li>
            <a href="/2021/03/30/DebianService/UserManagement/">Ubuntu账户管理</a>
          </li>
        
          <li>
            <a href="/2021/03/30/DebianService/Systemd/">Systemd</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 Biao Wang<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>